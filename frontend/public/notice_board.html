<html>
 <head>
  <title>
   Notice Board
  </title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .header {
            background-color: #003366;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header img {
            height: 40px;
        }
        .header .user-info {
            display: flex;
            align-items: center;
        }
        .header .user-info img {
            border-radius: 50%;
            height: 40px;
            margin-left: 10px;
        }
        .container {
            display: flex;
        }
        .sidebar {
            width: 20px;
            background-color: #ffffff;
            color: rgb(16, 16, 16);
            padding: 10px;
            height: 200vh;
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }
        .sidebar ul li {
            padding: 10px 0;
        }
        .sidebar ul li a {
            color: rgb(0, 0, 0);
            text-decoration: none;
        }
        .main-content {
            flex-grow: 1;
            margin: 20px;
        }
        .tabs {
            display: flex;
            background-color: #e0e0e0;
            padding: 10px;
        }
        .tabs div {
            margin-right: 20px;
            padding: 10px;
            cursor: pointer;
        }
        .tabs .active {
            background-color: #003366;
            color: white;
        }
        .content {
            background-color: #fff;
            padding: 20px;
            border: 1px solid #ccc;
        }
        .section {
            margin-bottom: 20px;
        }
        .section-header {
            background-color: #d0d0ff;
            padding: 10px;
            font-weight: bold;
            cursor: pointer;
        }
        .section-content {
            background-color: #ffe0e0;
            padding: 10px;
            display: none;
        }
        .section-content div {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
        }
        .section-content div span {
            width: 45%;
        }
        .profile-pic {
            float: right;
            margin: 10px;
        }
        .profile-pic img {
            border-radius: 50%;
            height: 100px;
        }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
             var headers = document.querySelectorAll(".section-header");
             headers.forEach(function(header) {
                 header.addEventListener("click", function() {
                     var content = this.nextElementSibling;
                     if (content.style.display === "none" || content.style.display === "") {
                         content.style.display = "block";
                     } else {
                         content.style.display = "none";
                     }
                 });
             });
         });
   </script>
 </head>
 <body>
  <div class="header">
    <img src="Aura_Homes.png"  alt="Aura Homes Logo" class="h-16" height="100"  width="75"/>
   <div class="user-info">
    <span>
     Name
    </span>
    <img src="Students.jpg"  alt="Student Logo" class="h-16" height="100"  width="50"/>
   </div>
  </div>
  <div class="container">
   <div class="sidebar">
    <ul>
     <li>
      <a href="/sidebar-student">
       <i class="fas fa-bars">
       </i>
      </a>
     </li>
     <li>
      <a href="/personal-info">
       <i class="fas fa-envelope">
       </i>
      </a>
     </li>
     <li>
      <a href="/student-attendance">
       <i class="fas fa-bell">
       </i>
      </a>
     </li>
     <li>
      <a href="/mess-menu">
       <i class="fas fa-utensils">
       </i>
      </a>
     </li>
     <li>
        <a href="/room-cleaning">
         <i class="fas fa-broom">
         </i>
        </a>
    </li>
    <li>
        <a href="#">
         <i class="fas fa-book">
         </i>
        </a>
    </li>
    <li>
        <a href="/notice-board">
         <i class="fas fa-thumbtack">
         </i>
        </a>
    </li>
    <li>
        <a href="/social-media">
         <i class="fas fa-comment">
         </i>
        </a>
     </li>
     <li>
        <a href="#">
         <i class="fas fa-phone-volume">
         </i>
        </a>
    </li>

    </ul>
   </div>
   <div class="main-content">
    <div class="tabs">
     <div class="active">
      Notice Board
     </div>
    </div>
    <div class="content">
     <div class="section">
      <div class="section-header">
       Timings
      </div>
      <div class="section-content">
       <div>
        <span>
         Supervisor :                             9:00 - 18:00
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Warden :                                 12:00 - 18:00
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Chief Warden :                           12:00 - 17:00                              
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Moblie/laptop repair :                   13:00 - 16:00          
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Medical Room :                          06:00 - 21:00   
        </span>
        <span>
        </span>
       </div>
      </div>
     </div>
     <div class="section">
      <div class="section-header">
       EmailId
      </div>
      <div class="section-content">
       <div>
        <span>
         Chief Warden :                             chiefwarden@example.com
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Warden :                                    warden@example.com
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Supervisor :                               supervisor@example.com     
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Deputy Supervisor :                       deputysupervisor@example.com       
        </span>
        <span>
        </span>
       </div>
      </div>
     </div>
     <div class="section">
      <div class="section-header">
       Authority Phone No.
      </div>
      <div class="section-content">
       <div>
        <span>
         Supervisor :                             XXXXXXXXXX
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Warden :                                XXXXXXXXXX
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Chief Warden :                          XXXXXXXXXX
        </span>
        <span>
        </span>
       </div>
      </div>
     </div>
     <div class="section">
      <div class="section-header">
       Cabin No.
      </div>
      <div class="section-content">
       <div>
        <span>
         Warden :                                Cabin 101 
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Supervisor :                            Cabin 102
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Chief Warden :                          Cabin 103
        </span>
        <span>
        </span>
       </div>
       <div>
        <span>
         Medical Room :                          G009
        </span>
        <span>
        </span>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    async function fetchNoticeBoardData() {
      try {
        const response = await fetch("http://localhost:4000/noticeboard");
        const data = await response.json();
  
        const sectionContent = document.querySelectorAll(".section-content");
        const [timings, emailIds, phoneNos, cabinNos] = sectionContent;
  
        // Separate data into categories
        const timingsData = data.filter((entry) => entry.Type === "Timings");
        const emailData = data.filter((entry) => entry.Type === "EmailId");
        const phoneData = data.filter((entry) => entry.Type === "Authority Phone No.");
        const cabinData = data.filter((entry) => entry.Type === "Cabin No.");
  
        // Populate timings section
        timings.innerHTML = timingsData
          .map(
            (entry) => `
              <div>
                <span>${entry.Role}</span>
                <span>${entry.Name || "N/A"}</span>
              </div>
            `
          )
          .join("");
  
        // Populate email section
        emailIds.innerHTML = emailData
          .map(
            (entry) => `
              <div>
                <span>${entry.Role}</span>
                <span>${entry["Email ID"] || "N/A"}</span>
              </div>
            `
          )
          .join("");
  
        // Populate phone number section
        phoneNos.innerHTML = phoneData
          .map(
            (entry) => `
              <div>
                <span>${entry.Role}</span>
                <span>${entry["Phone Number"] || "N/A"}</span>
              </div>
            `
          )
          .join("");
  
        // Populate cabin numbers section
        cabinNos.innerHTML = cabinData
          .map(
            (entry) => `
              <div>
                <span>${entry.Role}</span>
                <span>${entry["Cabin Number"] || "N/A"}</span>
              </div>
            `
          )
          .join("");
      } catch (err) {
        console.error("Failed to fetch notice board data", err);
      }
    }
  
    document.addEventListener("DOMContentLoaded", fetchNoticeBoardData);
  </script>  
 </body>
</html>